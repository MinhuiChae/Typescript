<!DOCTYPE html>
<html lang="en">
<head>
  <title>Document</title>
</head>
<body>
  x: <input type="text" id ="width">
  y: <input type="text" id ="height">
  <button type="button" class="button" item-data="circle">원</button>
  <button type="button" class="button" item-data="triangle">삼각형</button>
  <button type="button" class="button" item-data="square">사각형</button><br><br>
  
  <button type="button" onclick="doWeight()">넓이</button> 
  <input type="text" id="extend">

  <script>
    let shapeInfo = {
      shape: '',
      width: 0,
      height:0,
    }

    const itemList = document.getElementsByClassName('button');

    const onClick = (onself) => {
      const itemData = onself.getAttribute('item-data');
      shapeInfo.shape = itemData;
    }

    function doWeight() {
      let weight = 0;
      const width = getShapeWidth();
      const height = getShapeHeight();
      setWidthHeight(width, height);
      weight = getWidthHeight();
      displayWeight(weight);
    }

    const getShapeWidth = () => {
      return document.getElementById('width').value;
    }

    const getShapeHeight = () => {
      return document.getElementById('height').value;
    }

    const setWidthHeight = (width, height) => {
      shapeInfo.height = height;
      shapeInfo.width = width;
    }

    const getWidthHeight = () => {
      return window.shapeModule.getWeight(shapeInfo);
    }

    const displayWeight = (weight) => {
      document.getElementById('extend').value = weight;
    }

    Array.from(itemList).map((item) => {
      item.addEventListener('click',onClick.bind(this,item));
    });

  </script>

</body>
</html>