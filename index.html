<!DOCTYPE html>
<html lang="en">
<head>
  <title>Document</title>
</head>
<body>
  <div>
    x: <input type="text" id="width">
    y: <input type="text" id="height"><br><br>
    <button type ="button" class="button" item-data="circle">원</button>
    <button type ="button" class="button" item-data="triangle">삼각형</button>
    <button type ="button" class="button" item-data="square">사각형</button><br><br>
    <button type="button" onclick="doWeight()">넓이</button><br><br>
    <input type="text" id="extend" readonly>
  </div>

  <script>
    let shapeInfo = {
      shape: '',
      width: 0,
      height: 0,
    }

    const itemList = document.getElementsByClassName('button');

    const onClick = (self) => {
      const itemData = self.getAttribute('item-data');
      shapeInfo.shape = itemData;
    }

    function doWeight() {
      let weight = 0;
      let width = getShapeWidth();
      let height = getShapeHeight();
      setShapeWidthHeight(width, height);
      weight = getWeightByShapeInfo();
      displayWeight(weight);
    }

    const getShapeWidth = () => {
      return document.getElementById('width').value;
    }

    const getShapeHeight = () => {
      return document.getElementById('height').value;
    }

    setShapeWidthHeight = (width, height) => {
      shapeInfo.height = height;
      shapeInfo.width = width;
    }

    getWeightByShapeInfo = () => {
      return window.shapeModule.getWeight(shapeInfo);
    }

    const displayWeight = (weight) => {
      document.getElementById('extend').value = weight;
    }

    Array.from(itemList).map((item) => {
      item.addEventListener('click',onClick.bind(this, item));
    })

  </script>
</body>
</html>